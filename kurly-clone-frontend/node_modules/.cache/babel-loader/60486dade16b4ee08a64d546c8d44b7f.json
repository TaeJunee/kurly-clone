{"ast":null,"code":"import { createReducer, createSlice, isRejectedWithValue, PayloadAction } from \"@reduxjs/toolkit\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\"; // import { login } from \"../actions/user_action\"\n// export type UserState = {\n//   isLoggedIn: boolean;\n//   user: any;\n// }\n// export type LoginPayload = {\n//   memberId: string;\n//   password: string;\n//   name: string;\n// }\n\nconst initialState = {\n  isLoggedIn: false,\n  user: null\n};\nexport const action = {\n  loginAction: createAsyncThunk(\"USER_LOGIN\", async (userData, _ref) => {\n    let {\n      rejectWithValue\n    } = _ref;\n    return axios({\n      method: 'post',\n      url: 'http://localhost:5000/api/login',\n      data: userData\n    }).then(res => res.data).catch(error => rejectWithValue(error.res.data));\n  })\n}; // export const userSlice = createSlice({\n//   name: 'user',\n//   initialState,\n//   reducers:\n//   {\n//     loginAction: (state: UserState, action: PayloadAction<LoginPayload>) => {\n//       state.isLoggedIn = true;\n//       state.user = action.payload.data;\n//     },\n//     logoutAction: (state: UserState) => {\n//       state.isLoggedIn = false;\n//       state.user = null;\n//     },\n//   },\n// })\n// export const { loginAction, logoutAction } = userSlice.actions\n// export const selectUser = (state: any) => state.user.user\n// export default userSlice.reducer\n\nexport const reducer = {\n  loginAction: (state, action) => {\n    state.user = action.payload.data;\n  }\n};\nconst userReducer = createReducer(initialState, builder => {\n  builder.addCase(action.loginAction.fulfilled, reducer.loginAction);\n});\nexport default userReducer;","map":{"version":3,"names":["createReducer","createSlice","isRejectedWithValue","PayloadAction","createAsyncThunk","axios","initialState","isLoggedIn","user","action","loginAction","userData","rejectWithValue","method","url","data","then","res","catch","error","reducer","state","payload","userReducer","builder","addCase","fulfilled"],"sources":["C:/Users/JUNE/Desktop/kurly-clone/kurly-clone-frontend/src/redux/features/userSlice.js"],"sourcesContent":["import { createReducer, createSlice, isRejectedWithValue, PayloadAction } from \"@reduxjs/toolkit\"\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\"\r\nimport axios from \"axios\";\r\n// import { login } from \"../actions/user_action\"\r\n// export type UserState = {\r\n//   isLoggedIn: boolean;\r\n//   user: any;\r\n// }\r\n\r\n// export type LoginPayload = {\r\n//   memberId: string;\r\n//   password: string;\r\n//   name: string;\r\n// }\r\n\r\nconst initialState = {\r\n  isLoggedIn: false,\r\n  user: null,\r\n}\r\n\r\nexport const action = {\r\n  loginAction: createAsyncThunk(\"USER_LOGIN\", async (userData, { rejectWithValue }) => {\r\n    return axios({\r\n      method: 'post',\r\n      url: 'http://localhost:5000/api/login',\r\n      data: userData,\r\n    })\r\n    .then(res => res.data)\r\n    .catch(error => rejectWithValue(error.res.data));\r\n  })\r\n};\r\n\r\n// export const userSlice = createSlice({\r\n//   name: 'user',\r\n//   initialState,\r\n//   reducers:\r\n//   {\r\n//     loginAction: (state: UserState, action: PayloadAction<LoginPayload>) => {\r\n//       state.isLoggedIn = true;\r\n//       state.user = action.payload.data;\r\n\r\n//     },\r\n//     logoutAction: (state: UserState) => {\r\n//       state.isLoggedIn = false;\r\n//       state.user = null;\r\n//     },\r\n//   },\r\n// })\r\n\r\n// export const { loginAction, logoutAction } = userSlice.actions\r\n// export const selectUser = (state: any) => state.user.user\r\n// export default userSlice.reducer\r\n\r\nexport const reducer = {\r\n  loginAction: (state, action) => {\r\n    state.user = action.payload.data;\r\n  }\r\n}\r\n\r\nconst userReducer = createReducer(initialState, builder => {\r\n  builder\r\n    .addCase(action.loginAction.fulfilled, reducer.loginAction)\r\n})\r\n\r\nexport default userReducer"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,WAAxB,EAAqCC,mBAArC,EAA0DC,aAA1D,QAA+E,kBAA/E;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,YAAY,GAAG;EACnBC,UAAU,EAAE,KADO;EAEnBC,IAAI,EAAE;AAFa,CAArB;AAKA,OAAO,MAAMC,MAAM,GAAG;EACpBC,WAAW,EAAEN,gBAAgB,CAAC,YAAD,EAAe,OAAOO,QAAP,WAAyC;IAAA,IAAxB;MAAEC;IAAF,CAAwB;IACnF,OAAOP,KAAK,CAAC;MACXQ,MAAM,EAAE,MADG;MAEXC,GAAG,EAAE,iCAFM;MAGXC,IAAI,EAAEJ;IAHK,CAAD,CAAL,CAKNK,IALM,CAKDC,GAAG,IAAIA,GAAG,CAACF,IALV,EAMNG,KANM,CAMAC,KAAK,IAAIP,eAAe,CAACO,KAAK,CAACF,GAAN,CAAUF,IAAX,CANxB,CAAP;EAOD,CAR4B;AADT,CAAf,C,CAYP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA,OAAO,MAAMK,OAAO,GAAG;EACrBV,WAAW,EAAE,CAACW,KAAD,EAAQZ,MAAR,KAAmB;IAC9BY,KAAK,CAACb,IAAN,GAAaC,MAAM,CAACa,OAAP,CAAeP,IAA5B;EACD;AAHoB,CAAhB;AAMP,MAAMQ,WAAW,GAAGvB,aAAa,CAACM,YAAD,EAAekB,OAAO,IAAI;EACzDA,OAAO,CACJC,OADH,CACWhB,MAAM,CAACC,WAAP,CAAmBgB,SAD9B,EACyCN,OAAO,CAACV,WADjD;AAED,CAHgC,CAAjC;AAKA,eAAea,WAAf"},"metadata":{},"sourceType":"module"}