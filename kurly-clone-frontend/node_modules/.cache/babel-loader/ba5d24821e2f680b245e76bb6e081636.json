{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/JUNE/Desktop/kurly-clone-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"C:/Users/JUNE/Desktop/kurly-clone-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/JUNE/Desktop/kurly-clone-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/JUNE/Desktop/kurly-clone-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import styled from\"styled-components\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{useCookies}from\"react-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";var SignUp=function SignUp(_ref){var memberId=_ref.memberId,password=_ref.password,name=_ref.name,email=_ref.email,phone=_ref.phone,address=_ref.address,extraAddress=_ref.extraAddress,checked=_ref.checked,birth=_ref.birth;var navigate=useNavigate();var _useCookies=useCookies(),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];var doSignUp=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post('http://localhost:4444/register',{memberId:memberId,password:password,name:name,email:email,mobileNumber:phone,address:address,extraAddress:extraAddress,gender:checked,birth:birth});case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setCookie('accessToken',data['accessToken'],{path:'/'});console.log(data);window.alert('회원가입이 성공적으로 이루어졌습니다!');navigate('/login');_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function doSignUp(_x){return _ref2.apply(this,arguments);};}();// const onSubmit = useCallback(\n//   async (e: React.MouseEvent<HTMLButtonElement>) => {\n//     e.preventDefault()\n//     try {\n//       console.log(\"hi\")\n//       await axios\n//         .post('/signup', {\n//           memberId: memberId,\n//           password: password,\n//           name: name,\n//           email: email,\n//           mobileNumber: phone,\n//           address: address,\n//           extraAddress: extraAddress,\n//           gender: checked,\n//           birth: birth,\n//         })\n//         .then((res) => {\n//           console.log('response:', res)\n//           if (res.status === 200) {\n//             navigate('./signup/success');\n//           }\n//         })\n//     } catch (err) {\n//       console.error(err)\n//     }\n//   },[]\n// [memberId, password, name, email, phone, address, extraAddress, checked, birth]\nreturn/*#__PURE__*/_jsx(SignUpButton,{type:\"submit\",onClick:doSignUp,children:/*#__PURE__*/_jsx(\"span\",{children:\"\\uAC00\\uC785\\uD558\\uAE30\"})});};export default SignUp;var SignUpButton=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: block;\\n  padding: 0px 10px;\\n  text-align: center;\\n  overflow: hidden;\\n  width: 240px;\\n  height: 56px;\\n  border-radius: 3px;\\n  color: rgb(255, 255, 255);\\n  background-color: rgb(95, 0, 128);\\n  border: 0px none;\\n  span {\\n    display: inline-block;\\n    font-size: 16px;\\n    font-weight: 500;\\n  }\\n\"])));","map":{"version":3,"names":["styled","axios","useNavigate","useCookies","SignUp","memberId","password","name","email","phone","address","extraAddress","checked","birth","navigate","cookies","setCookie","removeCookie","doSignUp","e","preventDefault","post","mobileNumber","gender","data","path","console","log","window","alert","SignUpButton","button"],"sources":["C:/Users/JUNE/Desktop/kurly-clone-frontend/src/pages/signUp/SignUp.tsx"],"sourcesContent":["import { useCallback, useState } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport axios from \"axios\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { propsType } from \"../../components/signup/propsType\"\r\nimport { useCookies } from \"react-cookie\"\r\n\r\nconst SignUp = ({memberId, password, name, email, phone, address, extraAddress, checked, birth }: propsType) => {\r\n  const navigate = useNavigate();\r\n  const [cookies, setCookie, removeCookie] = useCookies();\r\n  \r\n  const doSignUp = async (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      const { data } = await axios.post(\r\n        'http://localhost:4444/register',\r\n        {\r\n          memberId: memberId,\r\n          password: password,\r\n          name: name,\r\n          email: email,\r\n          mobileNumber: phone,\r\n          address: address,\r\n          extraAddress: extraAddress,\r\n          gender: checked,\r\n          birth: birth,\r\n        }\r\n      )\r\n      setCookie('accessToken', data['accessToken'], { path: '/' })\r\n      console.log(data)\r\n      window.alert('회원가입이 성공적으로 이루어졌습니다!')\r\n      navigate('/login');\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n  // const onSubmit = useCallback(\r\n  //   async (e: React.MouseEvent<HTMLButtonElement>) => {\r\n  //     e.preventDefault()\r\n  //     try {\r\n  //       console.log(\"hi\")\r\n  //       await axios\r\n  //         .post('/signup', {\r\n  //           memberId: memberId,\r\n  //           password: password,\r\n  //           name: name,\r\n  //           email: email,\r\n  //           mobileNumber: phone,\r\n  //           address: address,\r\n  //           extraAddress: extraAddress,\r\n  //           gender: checked,\r\n  //           birth: birth,\r\n  //         })\r\n  //         .then((res) => {\r\n  //           console.log('response:', res)\r\n  //           if (res.status === 200) {\r\n  //             navigate('./signup/success');\r\n  //           }\r\n  //         })\r\n  //     } catch (err) {\r\n  //       console.error(err)\r\n  //     }\r\n  //   },[]\r\n    // [memberId, password, name, email, phone, address, extraAddress, checked, birth]\r\n \r\n  return (\r\n    <SignUpButton type=\"submit\" onClick={doSignUp}>\r\n      <span>가입하기</span>\r\n    </SignUpButton>\r\n  )\r\n\r\n}\r\n\r\nexport default SignUp\r\n\r\nconst SignUpButton = styled.button`\r\n  display: block;\r\n  padding: 0px 10px;\r\n  text-align: center;\r\n  overflow: hidden;\r\n  width: 240px;\r\n  height: 56px;\r\n  border-radius: 3px;\r\n  color: rgb(255, 255, 255);\r\n  background-color: rgb(95, 0, 128);\r\n  border: 0px none;\r\n  span {\r\n    display: inline-block;\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n  }\r\n`"],"mappings":"ojBACA,MAAOA,OAAP,KAAmB,mBAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,OAASC,UAAT,KAA2B,cAA3B,C,2CAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,MAAiG,IAA/FC,SAA+F,MAA/FA,QAA+F,CAArFC,QAAqF,MAArFA,QAAqF,CAA3EC,IAA2E,MAA3EA,IAA2E,CAArEC,KAAqE,MAArEA,KAAqE,CAA9DC,KAA8D,MAA9DA,KAA8D,CAAvDC,OAAuD,MAAvDA,OAAuD,CAA9CC,YAA8C,MAA9CA,YAA8C,CAAhCC,OAAgC,MAAhCA,OAAgC,CAAvBC,KAAuB,MAAvBA,KAAuB,CAC9G,GAAMC,SAAQ,CAAGZ,WAAW,EAA5B,CACA,gBAA2CC,UAAU,EAArD,4CAAOY,OAAP,iBAAgBC,SAAhB,iBAA2BC,YAA3B,iBAEA,GAAMC,SAAQ,6FAAG,iBAAOC,CAAP,+IACfA,CAAC,CAACC,cAAF,GADe,sCAGUnB,MAAK,CAACoB,IAAN,CACrB,gCADqB,CAErB,CACEhB,QAAQ,CAAEA,QADZ,CAEEC,QAAQ,CAAEA,QAFZ,CAGEC,IAAI,CAAEA,IAHR,CAIEC,KAAK,CAAEA,KAJT,CAKEc,YAAY,CAAEb,KALhB,CAMEC,OAAO,CAAEA,OANX,CAOEC,YAAY,CAAEA,YAPhB,CAQEY,MAAM,CAAEX,OARV,CASEC,KAAK,CAAEA,KATT,CAFqB,CAHV,wCAGLW,IAHK,mBAGLA,IAHK,CAiBbR,SAAS,CAAC,aAAD,CAAgBQ,IAAI,CAAC,aAAD,CAApB,CAAqC,CAAEC,IAAI,CAAE,GAAR,CAArC,CAAT,CACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACAI,MAAM,CAACC,KAAP,CAAa,sBAAb,EACAf,QAAQ,CAAC,QAAD,CAAR,CApBa,iFAsBbY,OAAO,CAACC,GAAR,cAtBa,qEAAH,kBAART,SAAQ,6CAAd,CAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AAEF,mBACE,KAAC,YAAD,EAAc,IAAI,CAAC,QAAnB,CAA4B,OAAO,CAAEA,QAArC,uBACE,kDADF,EADF,CAMD,CAhED,CAkEA,cAAed,OAAf,CAEA,GAAM0B,aAAY,CAAG9B,MAAM,CAAC+B,MAAV,kYAAlB"},"metadata":{},"sourceType":"module"}