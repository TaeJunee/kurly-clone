{"ast":null,"code":"import { createReducer, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\"; // import { login } from \"../actions/user_action\"\n// export type UserState = {\n//   isLoggedIn: boolean;\n//   user: any;\n// }\n// export type LoginPayload = {\n//   memberId: string;\n//   password: string;\n//   name: string;\n// }\n\nconst initialState = {\n  isLoggedIn: false,\n  user: null\n};\nexport const loginAction = createAsyncThunk(\"USER_LOGIN\", async (userData, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  return axios({\n    method: 'post',\n    url: 'http://localhost:5000/api/login',\n    data: userData\n  }).then(res => res.data).catch(error => rejectWithValue(error.res.data));\n});\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {// loginAction: (state: UserState, action: PayloadAction<LoginPayload>) => {\n    //   state.isLoggedIn = true;\n    //   state.user = action.payload.data;\n    // },\n    // logoutAction: (state: UserState) => {\n    //   state.isLoggedIn = false;\n    //   state.user = null;\n    // },\n  },\n  extraReducers: {\n    [loginAction.fulfilled]: (state, action) => {\n      state.data = action.payload;\n    }\n  }\n}); // export const { loginAction, logoutAction } = userSlice.actions\n\nexport const selectUser = state => state.user.user;\nexport default userSlice;","map":{"version":3,"names":["createReducer","createSlice","PayloadAction","createAsyncThunk","axios","initialState","isLoggedIn","user","loginAction","userData","rejectWithValue","method","url","data","then","res","catch","error","userSlice","name","reducers","extraReducers","fulfilled","state","action","payload","selectUser"],"sources":["C:/Users/JUNE/Desktop/kurly-clone/kurly-clone-frontend/src/redux/features/userSlice.js"],"sourcesContent":["import { createReducer, createSlice, PayloadAction } from \"@reduxjs/toolkit\"\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\"\r\nimport axios from \"axios\";\r\n// import { login } from \"../actions/user_action\"\r\n// export type UserState = {\r\n//   isLoggedIn: boolean;\r\n//   user: any;\r\n// }\r\n\r\n// export type LoginPayload = {\r\n//   memberId: string;\r\n//   password: string;\r\n//   name: string;\r\n// }\r\n\r\nconst initialState = {\r\n  isLoggedIn: false,\r\n  user: null,\r\n}\r\n\r\nexport const loginAction = createAsyncThunk(\"USER_LOGIN\", async (userData, { rejectWithValue }) => {\r\n    return axios({\r\n      method: 'post',\r\n      url: 'http://localhost:5000/api/login',\r\n      data: userData,\r\n    })\r\n    .then(res => res.data)\r\n    .catch(error => rejectWithValue(error.res.data));\r\n  })\r\n\r\nexport const userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers:\r\n  {\r\n    // loginAction: (state: UserState, action: PayloadAction<LoginPayload>) => {\r\n    //   state.isLoggedIn = true;\r\n    //   state.user = action.payload.data;\r\n\r\n    // },\r\n    // logoutAction: (state: UserState) => {\r\n    //   state.isLoggedIn = false;\r\n    //   state.user = null;\r\n    // },\r\n  },\r\n  extraReducers: {\r\n    [loginAction.fulfilled]: (state, action) => {\r\n      state.data = action.payload;\r\n    }\r\n  }\r\n})\r\n\r\n// export const { loginAction, logoutAction } = userSlice.actions\r\nexport const selectUser = (state) => state.user.user;\r\nexport default userSlice\r\n"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,WAAxB,EAAqCC,aAArC,QAA0D,kBAA1D;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,YAAY,GAAG;EACnBC,UAAU,EAAE,KADO;EAEnBC,IAAI,EAAE;AAFa,CAArB;AAKA,OAAO,MAAMC,WAAW,GAAGL,gBAAgB,CAAC,YAAD,EAAe,OAAOM,QAAP,WAAyC;EAAA,IAAxB;IAAEC;EAAF,CAAwB;EAC/F,OAAON,KAAK,CAAC;IACXO,MAAM,EAAE,MADG;IAEXC,GAAG,EAAE,iCAFM;IAGXC,IAAI,EAAEJ;EAHK,CAAD,CAAL,CAKNK,IALM,CAKDC,GAAG,IAAIA,GAAG,CAACF,IALV,EAMNG,KANM,CAMAC,KAAK,IAAIP,eAAe,CAACO,KAAK,CAACF,GAAN,CAAUF,IAAX,CANxB,CAAP;AAOD,CARwC,CAApC;AAUP,OAAO,MAAMK,SAAS,GAAGjB,WAAW,CAAC;EACnCkB,IAAI,EAAE,MAD6B;EAEnCd,YAFmC;EAGnCe,QAAQ,EACR,CACE;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;EATF,CAJmC;EAenCC,aAAa,EAAE;IACb,CAACb,WAAW,CAACc,SAAb,GAAyB,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC1CD,KAAK,CAACV,IAAN,GAAaW,MAAM,CAACC,OAApB;IACD;EAHY;AAfoB,CAAD,CAA7B,C,CAsBP;;AACA,OAAO,MAAMC,UAAU,GAAIH,KAAD,IAAWA,KAAK,CAAChB,IAAN,CAAWA,IAAzC;AACP,eAAeW,SAAf"},"metadata":{},"sourceType":"module"}