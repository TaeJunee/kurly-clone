{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/JUNE/Desktop/kurly-clone-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"C:/Users/JUNE/Desktop/kurly-clone-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/JUNE/Desktop/kurly-clone-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/JUNE/Desktop/kurly-clone-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2;import styled from'styled-components';import axios from'axios';import{useCookies}from'react-cookie';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";export default function LogIn(_ref){var memberId=_ref.memberId,password=_ref.password;var navigate=useNavigate();var _useCookies=useCookies(),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];var doLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post('http://localhost:4444/login',{email:memberId,password:password});case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setCookie('accessToken',data['accessToken'],{path:'/'});navigate('/');_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function doLogin(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(LogInButton,{onClick:doLogin,children:/*#__PURE__*/_jsx(Span,{children:\"\\uB85C\\uADF8\\uC778\"})});}var LogInButton=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: block;\\n  padding: 0px 10px;\\n  text-align: center;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 54px;\\n  border-radius: 3px;\\n  color: rgb(255, 255, 255);\\n  background-color: rgb(95, 0, 128);\\n  border: 0px none;\\n\"])));var Span=styled.span(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  font-size: 16px;\\n  font-weight: 500;\\n\"])));","map":{"version":3,"names":["styled","axios","useCookies","useNavigate","LogIn","memberId","password","navigate","cookies","setCookie","removeCookie","doLogin","e","preventDefault","post","email","data","path","console","log","LogInButton","button","Span","span"],"sources":["C:/Users/JUNE/Desktop/kurly-clone-frontend/src/pages/logIn/LogIn.tsx"],"sourcesContent":["import styled from 'styled-components'\r\nimport axios from 'axios'\r\nimport { useCookies } from 'react-cookie'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\ntype propsType = {\r\n  memberId: string;\r\n  password: string;\r\n}\r\n\r\nexport default function LogIn({ memberId, password }: propsType) {\r\n\r\n  const navigate = useNavigate();\r\n  const [cookies, setCookie, removeCookie] = useCookies();\r\n\r\n  const doLogin = async (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      const { data } = await axios.post(\r\n        'http://localhost:4444/login',\r\n        {\r\n          email: memberId,\r\n          password: password,\r\n        }\r\n      )\r\n      setCookie('accessToken', data['accessToken'], { path: '/' });\r\n      navigate('/');\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <LogInButton onClick={doLogin}>\r\n      <Span>로그인</Span>\r\n    </LogInButton>\r\n  )\r\n}\r\n\r\nconst LogInButton = styled.button`\r\n  display: block;\r\n  padding: 0px 10px;\r\n  text-align: center;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 54px;\r\n  border-radius: 3px;\r\n  color: rgb(255, 255, 255);\r\n  background-color: rgb(95, 0, 128);\r\n  border: 0px none;\r\n`\r\n\r\nconst Span = styled.span`\r\n  display: inline-block;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n`"],"mappings":"qkBAAA,MAAOA,OAAP,KAAmB,mBAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,2CAOA,cAAe,SAASC,MAAT,MAAkD,IAAjCC,SAAiC,MAAjCA,QAAiC,CAAvBC,QAAuB,MAAvBA,QAAuB,CAE/D,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CACA,gBAA2CD,UAAU,EAArD,4CAAOM,OAAP,iBAAgBC,SAAhB,iBAA2BC,YAA3B,iBAEA,GAAMC,QAAO,6FAAG,iBAAOC,CAAP,+IACdA,CAAC,CAACC,cAAF,GADc,sCAGWZ,MAAK,CAACa,IAAN,CACrB,6BADqB,CAErB,CACEC,KAAK,CAAEV,QADT,CAEEC,QAAQ,CAAEA,QAFZ,CAFqB,CAHX,wCAGJU,IAHI,mBAGJA,IAHI,CAUZP,SAAS,CAAC,aAAD,CAAgBO,IAAI,CAAC,aAAD,CAApB,CAAqC,CAAEC,IAAI,CAAE,GAAR,CAArC,CAAT,CACAV,QAAQ,CAAC,GAAD,CAAR,CAXY,iFAaZW,OAAO,CAACC,GAAR,cAbY,qEAAH,kBAAPR,QAAO,6CAAb,CAkBA,mBACE,KAAC,WAAD,EAAa,OAAO,CAAEA,OAAtB,uBACE,KAAC,IAAD,iCADF,EADF,CAKD,CAED,GAAMS,YAAW,CAAGpB,MAAM,CAACqB,MAAV,ySAAjB,CAaA,GAAMC,KAAI,CAAGtB,MAAM,CAACuB,IAAV,wIAAV"},"metadata":{},"sourceType":"module"}